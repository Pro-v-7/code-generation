{"type":"File","start":0,"end":566,"loc":{"start":{"line":1,"column":0},"end":{"line":30,"column":26}},"errors":[],"program":{"type":"Program","start":0,"end":566,"loc":{"start":{"line":1,"column":0},"end":{"line":30,"column":26}},"sourceType":"module","interpreter":null,"body":[{"type":"VariableDeclaration","start":15,"end":49,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"declarations":[{"type":"VariableDeclarator","start":19,"end":48,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"id":{"type":"Identifier","start":19,"end":26,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":11},"identifierName":"Promise"},"name":"Promise"},"init":{"type":"CallExpression","start":29,"end":48,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":33}},"callee":{"type":"Identifier","start":29,"end":36,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":21},"identifierName":"require"},"name":"require"},"arguments":[{"type":"StringLiteral","start":37,"end":47,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":32}},"extra":{"rawValue":"bluebird","raw":"'bluebird'"},"value":"bluebird"}]}}],"kind":"var"},{"type":"FunctionDeclaration","start":51,"end":92,"loc":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"id":{"type":"Identifier","start":60,"end":68,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":17},"identifierName":"Migrator"},"name":"Migrator"},"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":70,"end":92,"loc":{"start":{"line":5,"column":19},"end":{"line":7,"column":1}},"body":[{"type":"ExpressionStatement","start":74,"end":90,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":18}},"expression":{"type":"AssignmentExpression","start":74,"end":89,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":17}},"operator":"=","left":{"type":"MemberExpression","start":74,"end":84,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":12}},"object":{"type":"ThisExpression","start":74,"end":78,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":6}}},"property":{"type":"Identifier","start":79,"end":84,"loc":{"start":{"line":6,"column":7},"end":{"line":6,"column":12},"identifierName":"store"},"name":"store"},"computed":false},"right":{"type":"ObjectExpression","start":87,"end":89,"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":17}},"properties":[]}}}],"directives":[]}},{"type":"ExpressionStatement","start":94,"end":155,"loc":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"expression":{"type":"AssignmentExpression","start":94,"end":154,"loc":{"start":{"line":9,"column":0},"end":{"line":11,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":94,"end":117,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"object":{"type":"MemberExpression","start":94,"end":112,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":18}},"object":{"type":"Identifier","start":94,"end":102,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":8},"identifierName":"Migrator"},"name":"Migrator"},"property":{"type":"Identifier","start":103,"end":112,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":18},"identifierName":"prototype"},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":113,"end":117,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":23},"identifierName":"list"},"name":"list"},"computed":false},"right":{"type":"FunctionExpression","start":120,"end":154,"loc":{"start":{"line":9,"column":26},"end":{"line":11,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":130,"end":154,"loc":{"start":{"line":9,"column":36},"end":{"line":11,"column":1}},"body":[{"type":"ReturnStatement","start":134,"end":152,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":20}},"argument":{"type":"MemberExpression","start":141,"end":151,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":19}},"object":{"type":"ThisExpression","start":141,"end":145,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":13}}},"property":{"type":"Identifier","start":146,"end":151,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":19},"identifierName":"store"},"name":"store"},"computed":false}}],"directives":[]}}}},{"type":"ExpressionStatement","start":157,"end":227,"loc":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"expression":{"type":"AssignmentExpression","start":157,"end":226,"loc":{"start":{"line":13,"column":0},"end":{"line":15,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":157,"end":179,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":22}},"object":{"type":"MemberExpression","start":157,"end":175,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":18}},"object":{"type":"Identifier","start":157,"end":165,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":8},"identifierName":"Migrator"},"name":"Migrator"},"property":{"type":"Identifier","start":166,"end":175,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":18},"identifierName":"prototype"},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":176,"end":179,"loc":{"start":{"line":13,"column":19},"end":{"line":13,"column":22},"identifierName":"get"},"name":"get"},"computed":false},"right":{"type":"FunctionExpression","start":182,"end":226,"loc":{"start":{"line":13,"column":25},"end":{"line":15,"column":1}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":191,"end":195,"loc":{"start":{"line":13,"column":34},"end":{"line":13,"column":38},"identifierName":"name"},"name":"name"}],"body":{"type":"BlockStatement","start":196,"end":226,"loc":{"start":{"line":13,"column":39},"end":{"line":15,"column":1}},"body":[{"type":"ReturnStatement","start":200,"end":224,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":26}},"argument":{"type":"MemberExpression","start":207,"end":223,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":25}},"object":{"type":"MemberExpression","start":207,"end":217,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":19}},"object":{"type":"ThisExpression","start":207,"end":211,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":13}}},"property":{"type":"Identifier","start":212,"end":217,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":19},"identifierName":"store"},"name":"store"},"computed":false},"property":{"type":"Identifier","start":218,"end":222,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":24},"identifierName":"name"},"name":"name"},"computed":true}}],"directives":[]}}}},{"type":"ExpressionStatement","start":229,"end":538,"loc":{"start":{"line":17,"column":0},"end":{"line":28,"column":2}},"expression":{"type":"AssignmentExpression","start":229,"end":537,"loc":{"start":{"line":17,"column":0},"end":{"line":28,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":229,"end":256,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}},"object":{"type":"MemberExpression","start":229,"end":247,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":18}},"object":{"type":"Identifier","start":229,"end":237,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":8},"identifierName":"Migrator"},"name":"Migrator"},"property":{"type":"Identifier","start":238,"end":247,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":18},"identifierName":"prototype"},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":248,"end":256,"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":27},"identifierName":"register"},"name":"register"},"computed":false},"right":{"type":"FunctionExpression","start":259,"end":537,"loc":{"start":{"line":17,"column":30},"end":{"line":28,"column":1}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":268,"end":272,"loc":{"start":{"line":17,"column":39},"end":{"line":17,"column":43},"identifierName":"name"},"name":"name"},{"type":"Identifier","start":274,"end":276,"loc":{"start":{"line":17,"column":45},"end":{"line":17,"column":47},"identifierName":"fn"},"name":"fn"}],"body":{"type":"BlockStatement","start":277,"end":537,"loc":{"start":{"line":17,"column":48},"end":{"line":28,"column":1}},"body":[{"type":"IfStatement","start":281,"end":332,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":53}},"test":{"type":"UnaryExpression","start":285,"end":290,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":11}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":286,"end":290,"loc":{"start":{"line":18,"column":7},"end":{"line":18,"column":11},"identifierName":"name"},"name":"name"}},"consequent":{"type":"ThrowStatement","start":292,"end":332,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":53}},"argument":{"type":"NewExpression","start":298,"end":331,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":52}},"callee":{"type":"Identifier","start":302,"end":311,"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":32},"identifierName":"TypeError"},"name":"TypeError"},"typeArguments":null,"arguments":[{"type":"StringLiteral","start":312,"end":330,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":51}},"extra":{"rawValue":"name is required","raw":"'name is required'"},"value":"name is required"}]}},"alternate":null},{"type":"IfStatement","start":335,"end":410,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":77}},"test":{"type":"BinaryExpression","start":339,"end":363,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":30}},"left":{"type":"UnaryExpression","start":339,"end":348,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":15}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":346,"end":348,"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":15},"identifierName":"fn"},"name":"fn"}},"operator":"!==","right":{"type":"StringLiteral","start":353,"end":363,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":30}},"extra":{"rawValue":"function","raw":"'function'"},"value":"function"}},"consequent":{"type":"ThrowStatement","start":365,"end":410,"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":77}},"argument":{"type":"NewExpression","start":371,"end":409,"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":76}},"callee":{"type":"Identifier","start":375,"end":384,"loc":{"start":{"line":19,"column":42},"end":{"line":19,"column":51},"identifierName":"TypeError"},"name":"TypeError"},"typeArguments":null,"arguments":[{"type":"StringLiteral","start":385,"end":408,"loc":{"start":{"line":19,"column":52},"end":{"line":19,"column":75}},"extra":{"rawValue":"fn must be a function","raw":"'fn must be a function'"},"value":"fn must be a function"}]}},"alternate":null},{"type":"IfStatement","start":414,"end":509,"loc":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"test":{"type":"BinaryExpression","start":418,"end":431,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":19}},"left":{"type":"MemberExpression","start":418,"end":427,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":15}},"object":{"type":"Identifier","start":418,"end":420,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":8},"identifierName":"fn"},"name":"fn"},"property":{"type":"Identifier","start":421,"end":427,"loc":{"start":{"line":21,"column":9},"end":{"line":21,"column":15},"identifierName":"length"},"name":"length"},"computed":false},"operator":">","right":{"type":"NumericLiteral","start":430,"end":431,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":19}},"extra":{"rawValue":1,"raw":"1"},"value":1}},"consequent":{"type":"BlockStatement","start":432,"end":469,"loc":{"start":{"line":21,"column":20},"end":{"line":23,"column":3}},"body":[{"type":"ExpressionStatement","start":438,"end":465,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":31}},"expression":{"type":"AssignmentExpression","start":438,"end":464,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":30}},"operator":"=","left":{"type":"Identifier","start":438,"end":440,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":6},"identifierName":"fn"},"name":"fn"},"right":{"type":"CallExpression","start":443,"end":464,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":30}},"callee":{"type":"MemberExpression","start":443,"end":460,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":26}},"object":{"type":"Identifier","start":443,"end":450,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":16},"identifierName":"Promise"},"name":"Promise"},"property":{"type":"Identifier","start":451,"end":460,"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":26},"identifierName":"promisify"},"name":"promisify"},"computed":false},"arguments":[{"type":"Identifier","start":461,"end":463,"loc":{"start":{"line":22,"column":27},"end":{"line":22,"column":29},"identifierName":"fn"},"name":"fn"}]}}}],"directives":[]},"alternate":{"type":"BlockStatement","start":475,"end":509,"loc":{"start":{"line":23,"column":9},"end":{"line":25,"column":3}},"body":[{"type":"ExpressionStatement","start":481,"end":505,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":28}},"expression":{"type":"AssignmentExpression","start":481,"end":504,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":27}},"operator":"=","left":{"type":"Identifier","start":481,"end":483,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":6},"identifierName":"fn"},"name":"fn"},"right":{"type":"CallExpression","start":486,"end":504,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":27}},"callee":{"type":"MemberExpression","start":486,"end":500,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":23}},"object":{"type":"Identifier","start":486,"end":493,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":16},"identifierName":"Promise"},"name":"Promise"},"property":{"type":"Identifier","start":494,"end":500,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":23},"identifierName":"method"},"name":"method"},"computed":false},"arguments":[{"type":"Identifier","start":501,"end":503,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":26},"identifierName":"fn"},"name":"fn"}]}}}],"directives":[]}},{"type":"ExpressionStatement","start":513,"end":535,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":24}},"expression":{"type":"AssignmentExpression","start":513,"end":534,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":23}},"operator":"=","left":{"type":"MemberExpression","start":513,"end":529,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":18}},"object":{"type":"MemberExpression","start":513,"end":523,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":12}},"object":{"type":"ThisExpression","start":513,"end":517,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":6}}},"property":{"type":"Identifier","start":518,"end":523,"loc":{"start":{"line":27,"column":7},"end":{"line":27,"column":12},"identifierName":"store"},"name":"store"},"computed":false},"property":{"type":"Identifier","start":524,"end":528,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":17},"identifierName":"name"},"name":"name"},"computed":true},"right":{"type":"Identifier","start":532,"end":534,"loc":{"start":{"line":27,"column":21},"end":{"line":27,"column":23},"identifierName":"fn"},"name":"fn"}}}],"directives":[]}}}},{"type":"ExpressionStatement","start":540,"end":566,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":26}},"expression":{"type":"AssignmentExpression","start":540,"end":565,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":540,"end":554,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":14}},"object":{"type":"Identifier","start":540,"end":546,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":6},"identifierName":"module"},"name":"module"},"property":{"type":"Identifier","start":547,"end":554,"loc":{"start":{"line":30,"column":7},"end":{"line":30,"column":14},"identifierName":"exports"},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":557,"end":565,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":25},"identifierName":"Migrator"},"name":"Migrator"}}}],"directives":[{"type":"Directive","start":0,"end":13,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":13}},"value":{"type":"DirectiveLiteral","start":0,"end":12,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":12}},"value":"use strict","extra":{"raw":"'use strict'","rawValue":"use strict"}}}]},"comments":[]}